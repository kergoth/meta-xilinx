#@TYPE: Machine
#@NAME: zcu102-zynqmp-mel
#@DESCRIPTION: Mentor Embedded Linux Machine support for zcu102 MPSoc Evaluation Board.
#
# For full details on the ZCU102 and associated tools, refer to the meta-xilinx
# layer.

require conf/machine/zcu102-zynqmp.conf

#mask buggy bbappends
BBMASK += "/recipes-zynqmp/qemu/qemu_2.5%.bbappend"
BBMASK += "/recipes-bsp/u-boot/u-boot-xlnx_2015.04.bbappend"
BBMASK += "/recipes-multimedia/gstreamer/gstreamer1.0_1.6.3.bbappend"

PREFERRED_PROVIDER_virtual/bootloader = "u-boot-xlnx-dev"

# WIC image type support
IMAGE_FSTYPES += "wic.bz2"
WKS_FILE ?= "sdimage-bootpart-4g.wks"

# dosfstools is needed to create the boot partition, mtools to copy to it
IMAGE_DEPENDS_wic_append = " dosfstools-native mtools-native parted-native"
IMAGE_BOOT_FILES += " boot.bin atf.ub uEnv.txt system.dtb"
